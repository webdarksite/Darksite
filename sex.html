<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DARKSIDE</title>

<style>
:root{--bg:#0b0b12;--pink:#ff3d8b;--muted:#9aa0b4}
*{box-sizing:border-box}
body{
 margin:0;font-family:system-ui;
 background:radial-gradient(900px 500px at 50% -200px,#1b1f3a,transparent),var(--bg);
 color:#fff
}
h1{text-align:center;color:#ff5fa2;letter-spacing:4px}
.container{max-width:1000px;margin:auto;padding:16px}
.card{background:#0f1430;border-radius:22px;padding:14px;margin-bottom:18px}
.imggrid{display:grid;grid-template-columns:repeat(10,1fr);gap:6px}
.imggrid img{width:100%;height:72px;object-fit:cover;border-radius:8px}
.info{display:flex;justify-content:space-between;margin-top:10px}
.badge{background:var(--pink);padding:6px 12px;border-radius:999px}
.meta{color:var(--muted)}
.btn{display:block;margin-top:10px;padding:14px;border-radius:14px;background:linear-gradient(90deg,#ff3d8b,#a855f7);text-align:center;color:#fff;text-decoration:none}
.admin{background:#0f142e;border-radius:16px;padding:14px;margin-bottom:16px}
.admin input,.admin select,.admin button{width:100%;padding:10px;margin-top:8px;border-radius:10px}
.hidden{display:none}
.blur{filter:blur(8px);opacity:.4}
.actions{display:flex;gap:6px;margin-top:8px}
.actions button{flex:1}
</style>
</head>

<body>

<h1>DARKSIDE</h1>
<div class="container">

<!-- ADMIN LOGIN (Admin only knows this) -->
<div id="loginBox" class="admin">
<b>Admin Login</b>
<input id="adminId" placeholder="Admin ID">
<button onclick="login()">Enter</button>
</div>

<!-- ADMIN PANEL -->
<div id="panel" class="admin hidden">
<input id="name" placeholder="Name">
<input id="age" type="number" placeholder="Age 18+">
<input id="time" placeholder="Time">
<input id="price" placeholder="Price">
<select id="status">
<option>OPEN</option>
<option>CLOSED</option>
<option>SOLD</option>
</select>
<input type="file" id="files" accept="image/*" multiple>
<button onclick="createPost()">Save</button>
</div>

<!-- POSTS -->
<div id="posts"></div>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>

<script>
const firebaseConfig={
 apiKey:"YOUR_KEY",
 authDomain:"YOUR_DOMAIN",
 projectId:"YOUR_ID",
 storageBucket:"YOUR_BUCKET",
 appId:"YOUR_APP_ID"
};
firebase.initializeApp(firebaseConfig);

const db=firebase.firestore();
const storage=firebase.storage();

const ADMIN_ID="Z@w119241";
const FB_LINK="https://www.facebook.com/profile.php?id=61586281884184";
let isAdmin=false;

function login(){
 if(adminId.value===ADMIN_ID){
  isAdmin=true;
  loginBox.classList.add("hidden");
  panel.classList.remove("hidden");
 }else alert("Wrong Admin ID");
}

async function createPost(){
 if(+age.value<18) return alert("18+ only");
 let urls=[];
 for(let f of files.files){
  let ref=storage.ref("posts/"+Date.now()+"_"+f.name);
  await ref.put(f);
  urls.push(await ref.getDownloadURL());
 }
 await db.collection("posts").add({
  name:name.value,
  age:age.value,
  time:time.value,
  price:price.value,
  status:status.value,
  imgs:urls,
  disabled:false,
  created:Date.now()
 });
 files.value="";
}

db.collection("posts").orderBy("created","desc")
.onSnapshot(snap=>{
 posts.innerHTML="";
 snap.forEach(doc=>{
  let p=doc.data();
  let c=document.createElement("div");
  c.className="card";
  c.innerHTML=`
   <div class="${p.disabled?'blur':''}">
    <div class="imggrid">${p.imgs.map(i=>`<img src="${i}">`).join("")}</div>
   </div>
   <div class="info">
    <div>${p.name}<div class="meta">${p.age} â€¢ ${p.time}</div></div>
    <div class="badge">${p.price}</div>
   </div>
   <div class="meta">${p.status}</div>
   <a class="btn" href="${FB_LINK}" target="_blank">Order</a>
  `;
  posts.appendChild(c);
 });
});
</script>

</body>
</html>
